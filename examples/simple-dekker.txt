#
# Simplified Dekker's mutex algorithm.
#
# IS NOT robust.
#
memory_size 4

thread t1
initial q0
final q3
transition q0 q1	write	1	0
transition q1 q2	read	r1	1
transition q2 q3	check	== r1 0
end
thread t2
initial q0
final q3
transition q0 q1	write	1	1
transition q1 q2 	read	r2	0
transition q2 q3 	check	== r2 0
end
